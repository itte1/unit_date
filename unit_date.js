function a(e,t){switch(t){case"years":return new Date(e.getFullYear(),0);case"months":return new Date(e.getFullYear(),e.getMonth());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());default:return new Date(e)}}function o(e,t,s){let n=a(e,s);switch(s){default:case"seconds":"seconds"in t&&n.setSeconds(Math.max(0,Math.min(59,t.seconds)));case"minutes":"minutes"in t&&n.setMinutes(Math.max(0,Math.min(59,t.minutes)));case"hours":"hours"in t&&n.setHours(Math.max(0,Math.min(23,t.hours)));case"days":case"months":"months"in t&&n.setMonth(Math.max(0,Math.min(11,t.months-1)));case"years":"years"in t&&n.setFullYear(t.years)}if("days"in t&&["days","hours","minutes","seconds",void 0].includes(s)){let r=new Date(n.getFullYear(),n.getMonth()+1,0);n.setDate(Math.max(1,Math.min(t.days,r.getDate())))}return n}function u(e,t,s){let n=s?a(e,s):new Date(e);switch(s){default:case"seconds":"seconds"in t&&n.setSeconds(t.seconds+n.getSeconds());case"minutes":"minutes"in t&&n.setMinutes(t.minutes+n.getMinutes());case"hours":"hours"in t&&n.setHours(t.hours+n.getHours());case"days":"days"in t&&n.setDate(t.days+n.getDate());case"months":"months"in t&&n.setMonth(t.months+n.getMonth());case"years":"years"in t&&n.setFullYear(t.years+n.getFullYear())}return n}function D(e,t,s){switch(s){case"years":return e.getFullYear()-t.getFullYear();case"months":return(e.getFullYear()-t.getFullYear())*12+e.getMonth()-t.getMonth();default:{let n=a(e,s).getTime()-a(t,s).getTime();switch(s){case"days":return n/864e5;case"hours":return n/36e5;case"minutes":return n/6e4;case"seconds":return n/1e3;default:return n}}}}function l(e,t,s){let n="months"in t?"years":"days"in t?"months":"hours"in t?"days":"minutes"in t?"hours":"minutes",r=a(e,n),i=o(r,t);return D(e,i,s)<0?i:o(u(r,{[n]:1}),t)}export{u as add,D as diff,l as next,o as set,a as unit};
